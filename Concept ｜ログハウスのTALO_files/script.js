!function(){"use strict";var e=React,t=ReactDOM,a=function(e){var t=e.attributes,a=e.clientId,n=t.alignment,c=t.width,l=t.border,o=t.labelTypo,r=t.labelColors,i=t.labelPadding,s=t.capTypo,u=t.capColors,d=t.capPadding;return React.createElement("style",{dangerouslySetInnerHTML:{__html:"\n\t\t".concat(null!=o&&o.googleFontLink?"@import url(".concat(null==o?void 0:o.googleFontLink,");"):"","\n\t\t").concat(null!=s&&s.googleFontLink?"@import url(".concat(null==s?void 0:s.googleFontLink,");"):"","\n\n\t\t#icbImageCompare-").concat(a,"{\n\t\t\ttext-align: ").concat(n,";\n\t\t}\n\t\t#icbImageCompare-").concat(a," .icbImageCompare{\n\t\t\twidth: ").concat(c||"100%",";\n\t\t\t").concat(null==l?void 0:l.styles,";\n\t\t}\n\t\t#icbImageCompare-").concat(a," .icbImageCompare .overlay{\n\t\t\t").concat((null==o?void 0:o.styles)||"font-size: 15px;","\n\t\t\t").concat((null==r?void 0:r.styles)||"color: #fff; background: #00000080;","\n\t\t\tpadding: ").concat((null==i?void 0:i.styles)||"10px 15px",";\n\t\t}\n\t\t#icbImageCompare-").concat(a," .icbImageCompare .caption{\n\t\t\t").concat((null==s?void 0:s.styles)||"font-size: 14px;","\n\t\t\t").concat((null==u?void 0:u.styles)||"color: #333; background: #f4f4f4;","\n\t\t\tpadding: ").concat((null==d?void 0:d.styles)||"10px 15px",";\n\t\t}\n\t\t").replace(/\s+/g," ")}})},n=jQuery,c=jQuery;document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-icb-image-compare").forEach((function(e){var n=JSON.parse(e.dataset.attributes);(0,t.render)(React.createElement(React.Fragment,null,React.createElement(a,{attributes:n,clientId:n.cId}),React.createElement(l,{attributes:n})),e),null==e||e.removeAttribute("data-attributes")}))}));var l=function(t){var a=t.attributes,l=a.beforeImg,o=a.afterImg,r=a.isLabel,i=a.beforeLabel,s=a.afterLabel,u=a.isCap,d=a.cap,m=(0,e.useRef)(null),v=(0,e.useRef)(null),g=(0,e.useRef)(null),f=(0,e.useRef)(null),p=function(e){f.current.style.width=e,f.current.style.minWidth=e};return(0,e.useEffect)((function(){setTimeout((function(){if(m.current){var e,t=(null===(e=m.current)||void 0===e?void 0:e.clientWidth)+"px";p(t),a=c(v.current),l=c(g.current),o=c(m.current),r=!1,window.addEventListener("touchstart",(function(){r=!0})),window.addEventListener("touchend",(function(){r=!1})),a.on("mousedown touchstart",(function(e){a.addClass("icDraggable"),l.addClass("icResizable");var t=e.pageX?e.pageX:e.originalEvent.touches[0].pageX,c=a.outerWidth(),i=a.offset().left+c-t,s=o.offset().left,u=o.outerWidth(),d=s+10,m=s+u-c-10;a.parents().on("mousemove touchmove",(function(e){var t;!1===r&&e.preventDefault();var a=(e.pageX?e.pageX:null===(t=e.originalEvent)||void 0===t?void 0:t.touches[0].pageX)+i-c;a<d?a=d:a>m&&(a=m);var o=100*(a+c/2-s)/u+"%";n(".icDraggable").css("left",o).on("mouseup touchend touchcancel",(function(){n(this).removeClass("icDraggable"),l.removeClass("icResizable")})),n(".icResizable").css("width",o)})).on("mouseup touchend touchcancel",(function(){a.removeClass("icDraggable"),l.removeClass("icResizable")}))})).on("mouseup touchend touchcancel",(function(){a.removeClass("icDraggable"),l.removeClass("icResizable")})),window.addEventListener("resize",(function(){var e,t=(null===(e=m.current)||void 0===e?void 0:e.clientWidth)+"px";p(t)}))}var a,l,o,r}),0)}),[c]),React.createElement("div",{className:"icbImageCompare"},React.createElement("div",{className:"comparison-slider",ref:m},r&&s&&React.createElement("div",{className:"overlay afterLabel",dangerouslySetInnerHTML:{__html:s}}),React.createElement("img",{className:"afterImg",src:null==o?void 0:o.url,alt:null==o?void 0:o.alt}),React.createElement("div",{className:"resize",ref:g},r&&i&&React.createElement("div",{className:"overlay beforeLabel",dangerouslySetInnerHTML:{__html:i}}),React.createElement("img",{className:"beforeImg",src:null==l?void 0:l.url,alt:null==l?void 0:l.alt,ref:f})),React.createElement("div",{className:"divider",ref:v})),u&&d&&React.createElement("div",{className:"caption",dangerouslySetInnerHTML:{__html:d}}))}}();
//# sourceMappingURL=script.js.map